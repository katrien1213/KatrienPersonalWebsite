/* =========================================
   1. TYPOGRAPHY & RESET
   ========================================= */
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

:root {
    --font-main: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
    --color-text-primary: #111827; /* Darkest Gray */
    --color-text-secondary: #6b7280; /* Muted Gray */
    --color-bg: #ffffff;
    --color-accent: #f3f4f6;
    --color-blue: #8b09db; /* Your Portfolio Blue */
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: var(--font-main);
    background-color: var(--color-bg);
    color: var(--color-text-primary);
    line-height: 1.6;
    max-width: 900px; /* Narrower for the "Paper" look */
    margin: 0 auto;
    padding: 40px 20px;
    -webkit-font-smoothing: antialiased;
}

/* =========================================
   2. HEADER & NAVIGATION
   ========================================= */
header {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    margin-bottom: 60px;
    gap: 30px;
}

.header-text h1 {
    font-size: 1.8rem;
    font-weight: 700;
    letter-spacing: -0.03em;
    margin-bottom: 10px;
    color: var(--color-text-primary);
}

.header-text p {
    color: var(--color-text-secondary);
    font-size: 1rem;
    max-width: 480px;
    margin-bottom: 24px;
    line-height: 1.5;
}

.header-photo {
    width: 120px;
    height: 120px;
    object-fit: cover;
    border-radius: 12px;
    background-color: #f3f4f6;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
}

/* Navigation Buttons */
.nav-container {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.nav-row {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
}

.nav-btn {
    text-decoration: none;
    font-size: 0.85rem;
    font-weight: 500;
    padding: 6px 12px;
    border: 1px solid #e5e7eb;
    border-radius: 6px;
    transition: all 0.2s ease;
    background: #fff;
    color: var(--color-text-primary);
}

/* Row 1: Black Hover */
.nav-row.primary .nav-btn:hover {
    background-color: var(--color-text-primary);
    color: white;
    border-color: var(--color-text-primary);
}

/* Row 2: Blue Hover */
.nav-row.social .nav-btn:hover {
    background-color: var(--color-blue);
    color: white;
    border-color: var(--color-blue);
}

/* =========================================
   3. SECTIONS & HEADINGS
   ========================================= */
section {
    margin-bottom: 60px; /* Generous spacing between sections */
}

h2 {
    font-size: 1.1rem;
    font-weight: 600;
    margin-bottom: 24px;
    color: var(--color-text-primary);
    letter-spacing: -0.01em;
    border-bottom: 1px solid transparent; /* Cleaner than a visible line */
}

/* =========================================
   4. EDUCATION LIST (Clean)
   ========================================= */
.education-item {
    display: flex;
    justify-content: space-between;
    margin-bottom: 18px;
    padding-bottom: 18px;
    border-bottom: 1px solid #f3f4f6;
}

.education-item:last-child {
    border-bottom: none;
}

.edu-left h3 {
    font-size: 0.95rem;
    font-weight: 600;
    margin-bottom: 4px;
}

.edu-left .degree {
    font-size: 0.9rem;
    color: var(--color-text-primary);
}

.edu-left .modules {
    font-size: 0.8rem;
    color: var(--color-text-secondary);
    margin-top: 4px;
}

.edu-right {
    font-size: 0.85rem;
    color: var(--color-text-secondary);
    text-align: right;
    min-width: 100px;
}

/* =========================================
   5. PROJECT GRID
   ========================================= */
.project-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); /* Responsive */
    gap: 20px;
}

.project-card {
    border: 1px solid #e5e7eb;
    border-radius: 8px;
    overflow: hidden;
    text-decoration: none;
    color: inherit;
    transition: transform 0.2s, border-color 0.2s;
    background: white;
}

.project-card:hover {
    transform: translateY(-3px);
    border-color: #d1d5db;
    box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.project-card img {
    width: 100%;
    height: 140px;
    object-fit: cover;
    background-color: #f9fafb;
}

.project-info {
    padding: 12px;
}

.project-title {
    font-size: 0.9rem;
    font-weight: 600;
    line-height: 1.4;
}

/* =========================================
   6. VISUALIZATION CONTAINERS (The Fix)
   ========================================= */
.viz-label {
    font-size: 0.75rem;
    text-transform: uppercase;
    color: var(--color-text-secondary);
    font-weight: 600;
    letter-spacing: 0.05em;
    margin-bottom: 10px;
    display: block;
    margin-top: 40px;
}

/* THIS IS THE FIX FOR THE DASHED LINES */
.viz-container {
    width: 100%;
    margin-bottom: 30px;
    /* No border, No background color so water effect works */
    border: none; 
    background: transparent; 
    /* Optional: Ensure content doesn't spill out */
    overflow: visible; 
}

/* Specific tweak for the Network Graph to allow shadows to show */
#project-network {
    overflow: visible;
}

/* =========================================
   7. ANIMATIONS (Ripple Effect)
   ========================================= */
@keyframes pulse-ring {
    0% { transform: scale(1); opacity: 0.5; }
    100% { transform: scale(2.5); opacity: 0; }
}

.ripple-circle {
    fill: var(--color-blue);
    pointer-events: none;
    opacity: 0;
    mix-blend-mode: overlay;
}

.node:hover .ripple-circle {
    animation: pulse-ring 1.8s ease-out infinite;
}

.network-tooltip {
    font-family: var(--font-main);
    backdrop-filter: blur(8px);
    -webkit-backdrop-filter: blur(8px);
}

/* --- UNIFIED BUTTON STYLE (Matches Both Buttons) --- */

/* Group both IDs so they share the EXACT same code */
#toggle-skills-view-btn, 
#show-academic-tree-btn {
    /* 1. Positioning (Float Right & Hug Content) */
    position: relative; 
    margin-top: 15px;
    margin-left: auto; 
    width: fit-content;
    display: flex;
    align-items: center;
    gap: 8px;

    /* 2. Visuals (Pill Shape, Gray Border) */
    background-color: white;
    border: 1px solid #e5e7eb;
    border-radius: 20px;
    padding: 8px 16px;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);

    /* 3. Typography */
    color: #4b5563; /* Gray-600 */
    font-family: var(--font-main, 'Inter', sans-serif); /* Ensure font matches */
    font-size: 0.8rem;
    font-weight: 600;
    text-decoration: none; /* Removes underline from <a> link */
    line-height: 1;

    /* 4. Interaction */
    cursor: pointer;
    transition: all 0.2s ease;
    z-index: 10;
}

/* HOVER STATE (Purple for both) */
#toggle-skills-view-btn:hover, 
#show-academic-tree-btn:hover {
    border-color: #9333ea;
    color: #9333ea;
    transform: translateY(-2px);
    background-color: white;
    box-shadow: 0 4px 12px rgba(147, 51, 234, 0.15);
}

/* ARROW/ICON ALIGNMENT */
#toggle-skills-view-btn svg,
#show-academic-tree-btn span {
    display: block; /* Fixes vertical alignment issues */
}

#show-academic-tree-btn span {
    font-size: 1.2em;
    line-height: 0.8; /* Tweak arrow height */
    padding-bottom: 2px;
}

/* --- TWEAK: PULL 'SEE DETAILS' BUTTON UP --- */

/* 1. Remove extra space from the chart container itself */
#project-network {
    margin-bottom: 0 !important;
    padding-bottom: 0 !important;
}

/* 2. Pull the button up using negative margin */
#show-academic-tree-btn {
    /* The shared style was 15px, we override it here */
    margin-top: -20px !important; 
    
    /* Ensure it sits on top of the chart if they overlap slightly */
    position: relative; 
    z-index: 20; 
}
/* --- BAR CHART CONTROLS (Redesigned) --- */

.bar-nav {
    display: flex;
    gap: 12px; /* Space between buttons */
    margin-bottom: 30px;
    padding-bottom: 0;
    flex-wrap: wrap; /* Allow wrapping on small screens */
}

.cat-btn {
    /* 1. Base Style (Unselected) */
    background-color: #ffffff;
    border: 1px solid #e5e7eb; /* Subtle gray border */
    color: #6b7280;            /* Muted text */
    
    /* 2. Shape & Size */
    padding: 8px 20px;
    border-radius: 30px;       /* Full Pill Shape */
    
    /* 3. Typography */
    font-family: var(--font-main, 'Inter', sans-serif);
    font-size: 0.85rem;
    font-weight: 500;
    
    /* 4. Interaction */
    cursor: pointer;
    transition: all 0.2s ease;
    outline: none;
}

/* HOVER STATE */
.cat-btn:hover {
    border-color: #9333ea; /* Purple border */
    color: #9333ea;        /* Purple text */
    transform: translateY(-2px); /* Slight lift */
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
}

/* ACTIVE STATE (Selected) */
.cat-btn.active {
    background-color: #9333ea; /* Solid Vibrant Purple */
    color: #ffffff;            /* White Text */
    border-color: #9333ea;
    font-weight: 600;
    box-shadow: 0 4px 12px rgba(147, 51, 234, 0.25); /* Purple Glow */
    transform: translateY(0);
}

/* ========================================================
   NEW: 3-COLUMN "STICKER" LAYOUT
   ======================================================== */

/* 1. The Master Grid Wrapper */
.layout-grid {
    display: grid;
    /* Left (260px) - Gap - Center (800px) - Gap - Right (260px) */
    grid-template-columns: 260px 800px 260px;
    gap: 40px;
    justify-content: center;
    max-width: 1440px;
    margin: 0 auto;
    padding: 40px 20px;
    position: relative;
}

/* 2. The Center Content (Your Resume) */
/* We ensure this keeps its original look */
.center-column {
    min-width: 0; /* Prevents flex/grid overflow bugs */
    width: 100%;
}

/* 3. The Side Columns (Left & Right) */
.side-column {
    position: relative; /* Establishes context */
    height: 100%; /* Stretches to match the main content's height */
}

/* The Sticky Container inside the column */
.sticky-wrapper {
    position: sticky;
    top: 40px; /* Distance from top of screen when scrolling */
    display: flex;
    flex-direction: column;
    gap: 20px;
}

/* 4. "Sticker" Design Style */
.sticker {
    background: #ffffff;
    border: 1px solid #e5e7eb;
    border-radius: 16px; /* Smooth rounded corners */
    padding: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.03); /* Very subtle shadow */
    transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.sticker:hover {
    transform: translateY(-2px);
    box-shadow: 0 8px 20px rgba(0,0,0,0.06);
    border-color: #d1d5db;
}

/* Specific Sticker: The Map */
#map-sticker {
    height: 60vh; /* Tall vertical map */
    background-color: #e0f2fe; /* Ocean blue bg */
    padding: 0; /* Map goes edge to edge inside sticker */
    overflow: hidden;
    display: flex;
    flex-direction: column;
}

#map-container {
    width: 100%;
    flex-grow: 1;
}

/* Specific Sticker: Right Side Contact */
.contact-sticker {
    text-align: center;
}
.contact-sticker h3 {
    font-size: 0.9rem;
    margin-bottom: 10px;
    color: #111;
}
.contact-icons {
    display: flex;
    justify-content: center;
    gap: 15px;
}
.icon-link {
    color: #6b7280;
    transition: color 0.2s;
}
.icon-link:hover {
    color: #9333ea;
}

/* 5. Responsive Logic */
/* If screen is too narrow for 3 columns, hide sides and center main */
@media (max-width: 1200px) {
    .layout-grid {
        grid-template-columns: 1fr; /* Stack everything or just show main */
        max-width: 800px;
    }
    .side-column {
        display: none; /* Hide stickers on small screens to focus on content */
    }
}
/* =========================================
   NEW: 3-COLUMN FULL HEIGHT LAYOUT
   ========================================= */

/* 1. Override the old Body Width restriction */
body {
    max-width: 100% !important; /* Allow full width */
    margin: 0 !important;
    padding: 0 !important;
    overflow-x: hidden;
}

/* 2. The Layout Grid Wrapper */
.layout-wrapper {
    display: grid;
    /* Left (Flexible) | Center (Fixed 900px) | Right (Flexible) */
    grid-template-columns: 1fr 900px 1fr; 
    min-height: 100vh; /* Ensures full height of the browser */
    width: 100%;
}

/* 3. Fix the Center Main Content */
#main-content {
    /* Restore the spacing styling that was previously on 'body' */
    padding: 40px 20px; 
    background: #ffffff;
    position: relative;
    z-index: 2; /* Keep main content above side elements */
}

/* 4. Side Columns (Shared Styles) */
.side-column {
    background-color: #fafafa; /* Very subtle gray to distinguish from paper */
    padding: 80px 30px; /* Start content lower than main header */
    display: flex;
    flex-direction: column;
    font-family: 'Inter', sans-serif;
    position: relative;
}

.col-header {
    font-size: 0.75rem;
    text-transform: uppercase;
    letter-spacing: 0.1em;
    font-weight: 700;
    color: #111827;
    margin-bottom: 40px;
    border-bottom: 2px solid #111827;
    padding-bottom: 10px;
    display: inline-block;
    width: fit-content;
}

/* 5. Left Column Specifics (Foot Print) */
.left-col {
    border-right: 1px solid #e5e7eb;
    align-items: flex-end; /* Align text to the right (towards content) */
    text-align: right;
}

.footprint-item {
    margin-bottom: 30px;
    opacity: 0.8;
    transition: opacity 0.3s;
}
.footprint-item:hover { opacity: 1; }

.fp-date { display: block; font-size: 0.75rem; font-weight: 600; color: #111; margin-bottom: 2px; }
.fp-loc { display: block; font-size: 0.85rem; color: #4b5563; }
.fp-coord { 
    display: block; 
    font-size: 0.65rem; 
    font-family: 'Courier New', monospace; /* Tech feel */
    color: #9ca3af; 
    margin-top: 2px;
}

/* 6. Right Column Specifics (News!) */
.right-col {
    border-left: 1px solid #e5e7eb;
    align-items: flex-start; /* Align text to the left (towards content) */
    text-align: left;
}

.news-item {
    margin-bottom: 35px;
    border-left: 2px solid #e5e7eb; /* Minimal timeline marker */
    padding-left: 15px;
    transition: border-color 0.3s;
}
.news-item:hover { border-left-color: #8b09db; }

.news-badge {
    display: inline-block;
    font-size: 0.65rem;
    background: #f3f4f6;
    color: #6b7280;
    padding: 2px 6px;
    border-radius: 4px;
    margin-bottom: 6px;
    text-transform: uppercase;
    font-weight: 600;
}

.news-item p {
    font-size: 0.85rem;
    color: #374151;
    line-height: 1.4;
    margin-bottom: 4px;
}

.news-date {
    font-size: 0.7rem;
    color: #9ca3af;
}

/* 7. Responsive: Hide columns on smaller screens */
/* When the screen is narrower than ~1300px, side columns disappear 
   and layout reverts to the original single column look */
@media (max-width: 1350px) {
    .layout-wrapper {
        grid-template-columns: 1fr; /* Single column */
    }
    .side-column {
        display: none;
    }
    #main-content {
        max-width: 900px;
        margin: 0 auto;
    }
}


